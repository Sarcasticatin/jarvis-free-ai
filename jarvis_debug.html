<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jarvis Assistant</title>
<style>
    body {
        background-color: #000;
        color: #0ff;
        font-family: 'Courier New', monospace;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        height: 100vh;
    }
    .center {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
    }
    h1 {
        text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
        animation: glow 2s ease-in-out infinite alternate;
    }
    @keyframes glow {
        from { text-shadow: 0 0 10px #0ff, 0 0 20px #0ff; }
        to { text-shadow: 0 0 20px #0ff, 0 0 40px #0ff; }
    }
    input, button, textarea {
        padding: 10px;
        margin-top: 10px;
        font-size: 1rem;
        border: 2px solid #0ff;
        background: black;
        color: #0ff;
    }
    textarea {
        width: 100%;
        resize: none;
    }
    #jarvisUI {
        display: none;
        flex: 1;
        flex-direction: column;
        padding: 20px;
    }
    #jarvisOutput {
        white-space: pre-wrap;
        background: rgba(0,255,255,0.1);
        padding: 10px;
        margin-top: 10px;
        flex: 1;
        overflow-y: auto;
        font-size: 1.1rem;
        line-height: 1.4;
    }
    .error { color: red; }
    .hud-banner {
        font-size: 2rem;
        color: lime;
        text-shadow: 0 0 10px lime, 0 0 20px lime, 0 0 40px lime;
        animation: flicker 1.5s infinite alternate;
        margin-bottom: 20px;
    }
    @keyframes flicker {
        0% { opacity: 1; }
        50% { opacity: 0.8; }
        100% { opacity: 1; }
    }
</style>
</head>
<body>

<!-- Login Screen -->
<div id="loginScreen" class="center">
    <h1>Jarvis API Access</h1>
    <input type="password" id="apiKey" placeholder="Enter Groq API Key">
    <button onclick="unlockJarvis()">Unlock</button>
    <p id="status"></p>
</div>

<!-- Jarvis UI -->
<div id="jarvisUI" class="center" style="flex-direction: column;">
    <div class="hud-banner" id="hudBanner">ACCESS GRANTED</div>
    <h1>Jarvis Online</h1>
    <textarea id="userInput" placeholder="Ask Jarvis..." rows="4"></textarea>
    <button onclick="sendToJarvis()">Send</button>
    <div id="jarvisOutput"></div>
</div>

<script>
let GROQ_API_KEY = null;

function unlockJarvis() {
    const key = document.getElementById("apiKey").value.trim();
    const status = document.getElementById("status");

    if (!key) {
        status.textContent = "ACCESS DENIED - API KEY REQUIRED";
        status.className = "error";
        speak("Access denied");
        return;
    }

    GROQ_API_KEY = key;
    document.getElementById("loginScreen").style.display = "none";
    document.getElementById("jarvisUI").style.display = "flex";
    speak("Access granted, welcome back sir");
}

async function sendToJarvis() {
    const prompt = document.getElementById("userInput").value.trim();
    if (!prompt) return;

    const outputEl = document.getElementById("jarvisOutput");
    outputEl.textContent = "Thinking...";

    try {
        const res = await fetch("https://api.groq.com/openai/v1/chat/completions", {
            method: "POST",
            headers: {
                "Authorization": Bearer ${GROQ_API_KEY},
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                model: "llama3-8b-8192", 
                messages: [{ role: "user", content: prompt }]
            })
        });

        const data = await res.json();
        if (data?.choices?.[0]?.message?.content) {
            const reply = data.choices[0].message.content;
            typeText(reply, outputEl);
            speak(reply);
        } else {
            outputEl.textContent = "ACCESS DENIED OR INVALID KEY";
            speak("Access denied");
        }
    } catch (err) {
        outputEl.textContent = "Error: " + err.message;
        speak("Access denied");
    }
}

function typeText(text, element) {
    element.textContent = "";
    let i = 0;
    const interval = setInterval(() => {
        element.textContent += text.charAt(i);
        i++;
        if (i >= text.length) clearInterval(interval);
    }, 30);
}

function speak(text) {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.pitch = 1;
    utterance.rate = 1;
    speechSynthesis.speak(utterance);
}
</script>

</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jarvis Debug</title>
<style>
    body { background: black; color: cyan; font-family: monospace; padding: 20px; }
    input, button, textarea {
        padding: 10px;
        border: 2px solid cyan;
        background: black;
        color: cyan;
        width: 100%;
        margin: 5px 0;
    }
    #jarvisUI { display: none; }
    pre { background: rgba(0,255,255,0.1); padding: 10px; }
</style>
</head>
<body>

<div id="loginScreen">
    <h1>Enter Groq API Key</h1>
    <input type="password" id="apiKey" placeholder="Groq API Key">
    <button onclick="unlockJarvis()">Unlock</button>
    <p id="status"></p>
</div>

<div id="jarvisUI">
    <h1>Jarvis Debug Mode</h1>
    <textarea id="userInput" placeholder="Ask Jarvis..."></textarea>
    <button onclick="sendToJarvis()">Send</button>
    <pre id="jarvisOutput"></pre>
</div>

<script>
let GROQ_API_KEY = null;

function unlockJarvis() {
    const key = document.getElementById("apiKey").value.trim();
    if (!key) {
        document.getElementById("status").textContent = "API KEY REQUIRED";
        return;
    }
    GROQ_API_KEY = key;
    document.getElementById("loginScreen").style.display = "none";
    document.getElementById("jarvisUI").style.display = "block";
}

async function sendToJarvis() {
    const prompt = document.getElementById("userInput").value.trim();
    if (!prompt) return;

    const outputEl = document.getElementById("jarvisOutput");
    outputEl.textContent = "Thinking...";

    try {
        const res = await fetch("https://api.groq.com/openai/v1/chat/completions", {
            method: "POST",
            headers: {
                "Authorization": Bearer ${GROQ_API_KEY},
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                model: "llama3-8b-8192", 
                messages: [{ role: "user", content: prompt }]
            })
        });

        const text = await res.text();
        console.log("Raw API response:", text);
        outputEl.textContent = text;

    } catch (err) {
        console.error("Error calling API:", err);
        outputEl.textContent = "ERROR: " + err.message;
    }
}
</script>

</body>
</html>